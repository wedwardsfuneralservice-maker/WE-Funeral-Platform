<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create New Funeral Record ‚Äì W.E. Funeral Service Console</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root {
      --sidebar-bg: #0c0f16;
      --sidebar-active: #1e293b;
      --sidebar-text: #b8c4d9;
      --primary-accent: #4b7cff;
      --gold: #f6c945;
      --card-bg: #ffffff;
      --heading-font: "Playfair Display", serif;
      --body-font: "Inter", sans-serif;
    }

    body {
      font-family: var(--body-font);
      background: radial-gradient(circle at top, #0d1117, #0b0e13 40%, #080b0f 80%);
      color: #e5e7eb;
    }

    .sidebar-link {
      @apply flex items-center px-4 py-3 rounded-lg text-[var(--sidebar-text)] hover:text-white hover:bg-[var(--sidebar-active)] cursor-pointer transition;
    }

    .sidebar-link.active {
      @apply bg-[var(--sidebar-active)] text-white font-semibold;
      box-shadow: 0 0 6px rgba(75,124,255,0.6);
    }

    .content-card {
      background: var(--card-bg);
      border-radius: 1rem;
      padding: 2rem;
      box-shadow: 0 3px 20px rgba(0,0,0,0.25);
      color: #111827;
    }

    .fade-section {
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.35s ease;
    }
    .fade-section.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>

<body class="overflow-x-hidden">

<!-- ‚ñÄ‚ñÄ‚ñÄ TOP HEADER (FUNERAL HOME STYLE) ‚ñÄ‚ñÄ‚ñÄ -->
<header class="w-full bg-[#0f131a] shadow-lg py-4 px-6 flex justify-between items-center fixed top-0 left-0 z-50 border-b border-gray-800">
  
  <!-- Brand -->
  <div class="text-2xl font-semibold text-white tracking-wide" style="font-family: var(--heading-font);">
    W.E. Funeral Service Console
  </div>

  <!-- Profile Icon -->
  <div class="flex items-center space-x-6">
    <img src="/admin-avatar.png" alt="Profile" class="w-10 h-10 rounded-full border border-gray-600 shadow">
  </div>
</header>

<!-- ‚ñÄ‚ñÄ‚ñÄ LAYOUT WRAPPER ‚ñÄ‚ñÄ‚ñÄ -->
<div class="flex pt-20">

  <!-- ‚ñÄ‚ñÄ‚ñÄ SIDEBAR ‚ñÄ‚ñÄ‚ñÄ -->
  <aside class="w-64 min-h-screen bg-[var(--sidebar-bg)] text-gray-300 p-6 space-y-3 fixed top-20 left-0 border-r border-gray-800">

    <h2 class="text-lg font-semibold mb-4 tracking-wide text-gray-400" style="font-family: var(--heading-font);">
      Funeral Management
    </h2>

    <div id="tab-deceased" class="sidebar-link active">üïäÔ∏è Deceased Information</div>
    <div id="tab-nok" class="sidebar-link">üë®‚Äçüë©‚Äçüëß Next of Kin</div>
    <div id="tab-type" class="sidebar-link">‚ö∞Ô∏è Funeral Type</div>
    <div id="tab-service" class="sidebar-link">‚õ™ Service & Burial / Cremation</div>
    <div id="tab-repat" class="sidebar-link">‚úàÔ∏è Shipment / Repatriation</div>
    <div id="tab-costs" class="sidebar-link">üíµ Costs & Payments</div>
    <div id="tab-docs" class="sidebar-link">üìÑ Documents</div>
    <div id="tab-pdf" class="sidebar-link">üìù PDF Auto-Fill</div>
    <div id="tab-review" class="sidebar-link">‚úÖ Review & Submit</div>

  </aside>

  <!-- ‚ñÄ‚ñÄ‚ñÄ MAIN CONTENT AREA ‚ñÄ‚ñÄ‚ñÄ -->
  <main class="ml-64 w-full px-10 py-10">

    <h1 class="text-4xl font-bold mb-8 text-white" style="font-family: var(--heading-font);">
      Create New Funeral Record
    </h1>

    <!-- SECTION WRAPPER -->
    <div id="content-area">

      <!-- Section Templates -->
      <div id="section-deceased" class="fade-section show">
<div class="content-card">

  <!-- SECTION TITLE -->
  <h2 class="text-3xl font-semibold mb-6 text-gray-800" style="font-family: var(--heading-font);">
    üïäÔ∏è Deceased Information
  </h2>

  <!-- REFERENCE + FUNERAL DIRECTOR -->
  <div class="grid md:grid-cols-2 gap-6 mb-10">
    <div>
      <label class="font-semibold text-gray-700">Reference Number</label>
      <input id="d_refNumber" type="text" readonly
             class="mt-1 w-full p-3 border rounded-lg bg-gray-100 shadow-sm" />
    </div>

    <div>
      <label class="font-semibold text-gray-700">Responsible Funeral Director</label>
      <select id="d_funeralDirector"
              class="mt-1 w-full p-3 border rounded-lg shadow-sm">
        <option value="">Select‚Ä¶</option>
        <option>Carl Brathwaite</option>
        <option>Winston Edwards</option>
      </select>
    </div>
  </div>

  <!-- UPLOAD BLOCKS -->
  <div class="grid md:grid-cols-3 gap-10 mb-10">

    <!-- PORTRAIT -->
    <div>
      <label class="font-semibold text-gray-700 block mb-2">Portrait Photo</label>
      <img id="deceasedPhotoPreview"
           src="/placeholder-portrait.png"
           class="w-32 h-32 rounded-full object-cover border shadow mb-3" />
      <input id="deceasedPhoto" type="file" accept="image/*"
             class="text-sm"
             onchange="previewImage(this,'deceasedPhotoPreview')" />
      <button class="text-red-600 underline text-xs mt-1"
              onclick="clearImage('deceasedPhoto','deceasedPhotoPreview')">
        Remove
      </button>
    </div>

    <!-- ID FRONT -->
    <div>
      <label class="font-semibold text-gray-700 block mb-2">ID Front</label>
      <img id="idFrontPreview"
           src="/placeholder-id.png"
           class="w-40 rounded border shadow mb-3" />
      <input id="d_idFront" type="file" accept="image/*"
             onchange="previewImage(this,'idFrontPreview')" />
    </div>

    <!-- ID BACK -->
    <div>
      <label class="font-semibold text-gray-700 block mb-2">ID Back</label>
      <img id="idBackPreview"
           src="/placeholder-id.png"
           class="w-40 rounded border shadow mb-3" />
      <input id="d_idBack" type="file" accept="image/*"
             onchange="previewImage(this,'idBackPreview')" />
    </div>

  </div>

  <!-- PERSONAL DETAILS -->
  <h3 class="text-2xl font-semibold mb-4 text-gray-800" style="font-family:var(--heading-font);">
    Personal Details
  </h3>

  <div class="grid md:grid-cols-2 gap-6 mb-10">

    <div>
      <label class="font-semibold text-gray-700">Full Name</label>
      <input id="d_fullName" type="text"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm" />
    </div>

    <div>
      <label class="font-semibold text-gray-700">Alias / Other Names</label>
      <input id="d_alias" type="text"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm" />
    </div>

    <div>
      <label class="font-semibold text-gray-700">Gender</label>
      <select id="d_gender"
              class="mt-1 w-full p-3 border rounded-lg shadow-sm">
        <option value="">Select‚Ä¶</option>
        <option>Male</option>
        <option>Female</option>
        <option>Other</option>
      </select>
    </div>

    <div>
      <label class="font-semibold text-gray-700">Marital Status</label>
      <select id="d_maritalStatus"
              class="mt-1 w-full p-3 border rounded-lg shadow-sm"
              onchange="toggleSpouseField()">
        <option value="">Select‚Ä¶</option>
        <option>Single</option>
        <option>Married</option>
        <option>Widowed</option>
        <option>Divorced</option>
        <option>Common-law</option>
      </select>
    </div>

    <div id="spouseField" class="hidden">
      <label class="font-semibold text-gray-700">Spouse Name</label>
      <input id="d_spouseName" type="text"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm" />
    </div>

  </div>

  <!-- DATES -->
  <h3 class="text-2xl font-semibold mb-4 text-gray-800" style="font-family:var(--heading-font);">
    Dates & Age
  </h3>

  <div class="grid md:grid-cols-3 gap-6 mb-10">

    <div>
      <label class="font-semibold text-gray-700">Date of Birth</label>
      <input id="d_dob" type="date"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm"
             onchange="calculateAge()" />
    </div>

    <div>
      <label class="font-semibold text-gray-700">Date & Time of Death</label>
      <input id="d_dod" type="datetime-local"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm"
             onchange="calculateAge()" />
    </div>

    <div>
      <label class="font-semibold text-gray-700">Age (Auto)</label>
      <input id="d_age" type="number" readonly
             class="mt-1 w-full p-3 border rounded-lg bg-gray-100 shadow-inner" />
    </div>

  </div>

  <!-- LOCATION -->
  <h3 class="text-2xl font-semibold mb-4 text-gray-800" style="font-family:var(--heading-font);">
    Location Information
  </h3>

  <div class="grid md:grid-cols-2 gap-6 mb-10">

    <div>
      <label class="font-semibold text-gray-700">Place of Death</label>
      <input id="d_placeOfDeath" type="text"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm" />
    </div>

    <div>
      <label class="font-semibold text-gray-700">Country of Death</label>
      <select id="d_countryOfDeath"
              class="mt-1 w-full p-3 border rounded-lg shadow-sm">
        <option value="">Select country‚Ä¶</option>
      </select>
    </div>

    <div>
      <label class="font-semibold text-gray-700">Last Known Address</label>
      <input id="d_address" type="text"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm" />
    </div>

    <div>
      <label class="font-semibold text-gray-700">Country of Residence</label>
      <select id="d_countryOfResidence"
              class="mt-1 w-full p-3 border rounded-lg shadow-sm">
        <option value="">Select country‚Ä¶</option>
      </select>
    </div>

  </div>

  <!-- MEDICAL & LEGAL -->
  <h3 class="text-2xl font-semibold mb-4 text-gray-800" style="font-family:var(--heading-font);">
    Medical & Legal Information
  </h3>

  <div class="grid md:grid-cols-2 gap-6 mb-10">

    <div>
      <label class="font-semibold text-gray-700">Cause of Death</label>
      <input id="d_cod" type="text"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm" />
    </div>

    <div>
      <label class="font-semibold text-gray-700">Attending Physician</label>
      <input id="d_physician" type="text"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm" />
    </div>

    <div>
      <label class="font-semibold text-gray-700">Physician Contact</label>
      <input id="d_physicianContact" type="text"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm" />
    </div>

    <div>
      <label class="font-semibold text-gray-700">Death Certificate Issued?</label>
      <select id="d_certificateIssued"
              class="mt-1 w-full p-3 border rounded-lg shadow-sm"
              onchange="toggleCertificateNumber()">
        <option value="">Select‚Ä¶</option>
        <option>Yes</option>
        <option>No</option>
      </select>
    </div>

    <div id="certificateNumberField" class="hidden">
      <label class="font-semibold text-gray-700">Certificate Number</label>
      <input id="d_certificateNumber" type="text"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm" />
    </div>

  </div>

  <!-- IDENTIFICATION -->
  <h3 class="text-2xl font-semibold mb-4 text-gray-800" style="font-family:var(--heading-font);">
    Identification
  </h3>

  <div class="grid md:grid-cols-2 gap-6">

    <div>
      <label class="font-semibold text-gray-700">ID Type</label>
      <select id="d_idType"
              class="mt-1 w-full p-3 border rounded-lg shadow-sm">
        <option value="">Select‚Ä¶</option>
        <option>National ID</option>
        <option>Passport</option>
        <option>Driver‚Äôs License</option>
        <option>Other</option>
      </select>
    </div>

    <div>
      <label class="font-semibold text-gray-700">ID Number</label>
      <input id="d_idNumber" type="text"
             class="mt-1 w-full p-3 border rounded-lg shadow-sm" />
    </div>

  </div>

</div>

        
      </div>

      <div id="section-nok" class="fade-section hidden"></div>
      <div id="section-type" class="fade-section hidden"></div>
      <div id="section-service" class="fade-section hidden"></div>
      <div id="section-repat" class="fade-section hidden"></div>
      <div id="section-costs" class="fade-section hidden"></div>
      <div id="section-docs" class="fade-section hidden"></div>
      <div id="section-pdf" class="fade-section hidden"></div>
      <div id="section-review" class="fade-section hidden"></div>

    </div>

  </main>
</div>

<!-- ‚ñÄ‚ñÄ‚ñÄ SIDEBAR LOGIC SCRIPT ‚ñÄ‚ñÄ‚ñÄ -->
<script>
  const tabs = ["deceased","nok","type","service","repat","costs","docs","pdf","review"];

  tabs.forEach(name => {
    document.getElementById(`tab-${name}`).addEventListener("click", () => {

      tabs.forEach(n => {
        document.getElementById(`tab-${n}`).classList.remove("active");
        document.getElementById(`section-${n}`).classList.add("hidden");
        document.getElementById(`section-${n}`).classList.remove("show");
      });

      document.getElementById(`tab-${name}`).classList.add("active");

      const section = document.getElementById(`section-${name}`);
      section.classList.remove("hidden");
      setTimeout(() => section.classList.add("show"), 50);

      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  });
</script>
  <script>
/* IMAGE PREVIEW LOGIC */
function previewImage(input, previewId) {
  const file = input.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = e => {
    document.getElementById(previewId).src = e.target.result;
  };
  reader.readAsDataURL(file);
}

function clearImage(inputId, previewId) {
  document.getElementById(inputId).value = "";
  document.getElementById(previewId).src = "/placeholder-portrait.png";
}

/* AGE CALCULATION ‚Äî DOD - DOB */
function calculateAge() {
  const dob = document.getElementById("d_dob").value;
  const dod = document.getElementById("d_dod").value;
  if (!dob || !dod) return;

  const birth = new Date(dob);
  const death = new Date(dod);
  let age = death.getFullYear() - birth.getFullYear();

  const m = death.getMonth() - birth.getMonth();
  if (m < 0 || (m === 0 && death.getDate() < birth.getDate())) age--;

  document.getElementById("d_age").value = age;
}

/* MARITAL STATUS */
function toggleSpouseField() {
  const status = document.getElementById("d_maritalStatus").value;
  document.getElementById("spouseField").classList.toggle("hidden", status !== "Married");
}

/* CERTIFICATE LOGIC */
function toggleCertificateNumber() {
  const issued = document.getElementById("d_certificateIssued").value;
  document.getElementById("certificateNumberField").classList.toggle("hidden", issued !== "Yes");
}

/* COUNTRY LIST */
const countries = [
  "Barbados","United States","United Kingdom","Canada","Jamaica",
  "Trinidad & Tobago","Guyana","Saint Lucia","Dominica","Grenada",
  "India","China","Australia","Germany","France","Brazil","Mexico",
  "Nigeria","Ghana","South Africa","Japan","Spain","Italy","Netherlands"
];

function loadCountries() {
  ["d_countryOfDeath", "d_countryOfResidence"].forEach(id => {
    const sel = document.getElementById(id);
    countries.forEach(c => {
      const opt = document.createElement("option");
      opt.value = c;
      opt.textContent = c;
      sel.appendChild(opt);
    });
  });
}
loadCountries();

/* AUTO-GENERATE REFERENCE NUMBER */
document.getElementById("d_refNumber").value = "REF-" + Math.floor(100000 + Math.random() * 900000);
</script>

</body>
</html>
